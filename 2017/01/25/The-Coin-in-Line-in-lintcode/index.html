<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>The Coin in Line in lintcode | QianleHe</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="QianleHe">
    <meta name="author" content="Qianle He">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <!-- <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico"> -->
    <link rel="Shortcut Icon" href="/img/catlogo.ico" type="image/ico">
    <link rel="alternate" href="/atom.xml" title="QianleHe" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="" class="animsition-link">QianleHe</a></li>
                    
                    <li><a href="http://domain.com/" class="animsition-link">Name</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/cat.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">QianleHe</a></li>
                            <li class="nolink">A Software Engineer.</li>
                            <li class="nolink"><span>Keep </span>LEARNING.</li>
                            
                            <li><a href="https://github.com/QianleHe" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <!-- <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li> -->
                            
                            
                            <!-- <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li> -->
                            
                            
                            <!-- <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li> -->
                            
                            
                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li><a href="mailto:qhe7@ur.rochester.edu?subject=Hello%20Qianle" target="_blank" title="mail" target="_blank"><img src="/img/mail.png"></a></li>
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2017-01-25T06:46:14.000Z" itemprop="datePublished">
          2017-01-25
      </time>
    
    
    | 
    <a href='/tags/Dynamic-Programming-Game-Theory/'>Dynamic Programming, Game Theory</a>
    
    
</span>
                <h1>The Coin in Line in lintcode</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h2 id="For-the-Coins-in-a-Line-I"><a href="#For-the-Coins-in-a-Line-I" class="headerlink" title="For the Coins in a Line I"></a>For the Coins in a Line I</h2><p>There are n coins in a line. Two players take turns to take one or two coins from right side until there are no more coins left. The player who take the last coin wins.</p>
<p>Could you please decide the first play will win or lose?</p>
<p>这是一个谁先取硬币就能赢的问题，每次你可以取一枚或者两枚硬币，每一枚的硬币的数额是一样的（后面的两题的硬币数额是不一样的）。所以这是一个动态规划的博弈类问题。</p>
<p>For my idea:</p>
<ol>
<li>因为这是一个动态规划的博弈类问题，所以首先我们先假设一个数组，来储存每一个硬币数的先手的结果，从小到大，滚动递推到n个硬币的结果。</li>
<li>然后我们需要画图来寻找每次先手取不同一个硬币数量的结果。（如code block里面的图）</li>
<li>f[n]代表当硬币剩下n个，是否先手能赢。如图，后手可能取走一枚或者两枚, 在这之后，又轮到先手取硬币，剩下f[n-2],f[n-3],f[n-4]。很容易理解，这几个剩余硬币数的情况的先手能不能赢得情况决定了f[n]的结果。所以f[n-2],f[n-3]是后手取一个硬币的情况，f[n-3],f[n-4]是后手取两个硬币的情况。</li>
<li>所以滚动到f[0],f[1],f[2],f[3]能直接判断出先手是否能胜利。</li>
</ol>
<p><strong>This is the code part</strong></p>
<pre><code>public class Solution {
public boolean firstWillWin(int n) {
    // write your code here
//             f[n]
//             /  \
//           /    \
//       f[n-1]    f[n-2]
//         /   \   /   \
//       /      \ /      \
//   f[n-2]f[n-3]f[n-3]f[n-4]  


    int[] dp = new int[n + 1];
    return dowin(dp, n);
}

public boolean dowin(int[] dp, int n) { //0 for unvisited, 1 for true, 2 for false
    if (dp[n] != 0) { // it  means that it is visited
        if (dp[n] == 1) return true;
        else return false;
    } else {
        if (n == 0) {
            dp[n] = 2;
        } else if (n == 1) {
            dp[n] = 1;
        } else if (n == 2) {
            dp[n] = 1;
        } else if (n == 3) {
            dp[n] = 2;
        } else {
            if ((dowin(dp, n - 2) &amp;&amp; dowin(dp, n - 3)) || (dowin(dp, n - 3) &amp;&amp; dowin(dp, n - 4))) {
                dp[n] = 1;
            } else {
                dp[n] = 2;
            }
        }
        if (dp[n] == 1) return true;
        return false;
    }
}
}
</code></pre><h2 id="For-the-Coins-in-a-Line-II"><a href="#For-the-Coins-in-a-Line-II" class="headerlink" title="For the Coins in a Line II"></a>For the Coins in a Line II</h2><p>There are n coins with different value in a line. Two players take turns to take one or two coins from left side until there are no more coins left. The player who take the coins with the most value wins.</p>
<p>Could you please decide the first player will win or lose?</p>
<p><em>For my idea:</em></p>
<p>1.这一题和前面类似，都是博弈类的动态规划问题，只是这题的硬币数额不一样，所以胜利的规则是最后取得的硬币的数额总和。<br>2.先手和I是一样的，有两种情况，先取一个硬币和两个硬币，因为不知道以后的情况，所以这两种情况都有可能胜利。<br>3.但是后手肯定是绝对聪明的，他在选择的情况下，肯定是选择让先手下一次取得的硬币总额足够小。<br>4.设置一个visit数组，每次访问过的数就不会重新访问了。</p>
<pre><code>public class Solution {
/**
 * @param values: an array of integers
 * @return: a boolean which equals to true if the first player will win
 */
public boolean firstWillWin(int[] values) {
    // write your code here
    int[] dp = new int[values.length + 1];
    boolean[] visited = new boolean[values.length + 1];
    int sum = 0;
    for (int i : values) {
        sum += i;
    }
    return sum &lt; 2 * dowin(dp, visited, values, values.length);
}

public int dowin(int[] dp, boolean[] visited, int[] values, int n) {
    if (visited[n] == true) {
        return dp[n];
    }
    visited[n] = true;
    if (n == 0) {
        dp[n] = 0;
    } else if (n == 1) {
        dp[n] = values[values.length - 1];
    } else if (n == 2) {
        dp[n] = values[values.length - 1] + values[values.length - 2];
    } else if (n == 3) {
        dp[n] = values[values.length - 2] + values[values.length - 3];
    } else {
        int temp1 = Math.min(dowin(dp, visited, values, n - 2), dowin(dp, visited, values, n - 3)) + values[values.length - n];
        int temp2 = Math.min(dowin(dp, visited, values, n - 3), dowin(dp, visited, values, n - 4)) + values[values.length - n] + values[values.length - n + 1];
        dp[n] = Math.max(temp1, temp2);
    }
    return dp[n];
} 
}
</code></pre>
            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    
    <a class="pull-right" href="/2017/01/21/hello-world/">
        Hello World →
    </a>
    
</nav>

        <div class="duoshuo">


</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Qianle He. All Rights Reserved.
                </p>
                 <!-- <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p> -->
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/QianleHe" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    <!-- 
                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                     -->
                    <!-- 
                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
                     -->
                    <!-- 
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                     -->
                    
                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->

      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      (function(){
        console.log('font');
        var getCss = function(path) {
          var head = document.getElementsByTagName('head')[0];
          link = document.createElement('link');
          link.href = path;
          link.rel = 'stylesheet';
          link.type = 'text/css';
          head.appendChild(link);
        };
        getCss('https://fonts.googleapis.com/css?family=Montserrat:400,700');
        getCss('https://fonts.googleapis.com/css?family=Open+Sans:400,600');
      })();
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
