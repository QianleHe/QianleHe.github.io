<!DOCTYPE html>
<!--[if lte IE 8 ]>
<html class="ie" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<![endif]-->
<!--[if (gte IE 9)|!(IE)]><!-->
<!--
***************  *      *     *
      8          *    *       *
      8          *  *         *
      8          **           *
      8          *  *         *
      8          *    *       *
      8          *      *     *
      8          *        *   ***********    -----Theme By Kieran(http://go.kieran.top)
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<!--<![endif]-->

<head>
  <title>Course Schedule I,II | QianleHe</title>
  <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="QianleHe">
    <meta name="author" content="Qianle He">
    <meta name="description" content="" />
    <meta name="keywords" content="" />

    <!-- Favicon, (keep icon in root folder) -->
    <!-- <link rel="Shortcut Icon" href="/img/favicon.ico" type="image/ico"> -->
    <link rel="Shortcut Icon" href="/img/catlogo.ico" type="image/ico">
    <link rel="alternate" href="/atom.xml" title="QianleHe" type="application/atom+xml">
    <link rel="stylesheet" href="/css/all.css" media="screen" type="text/css">
    
    <link rel="stylesheet" href="/highlightjs/vs.css" type="text/css">
    

    <!--[if IE 8]>
    <link rel="stylesheet" type="text/css" href="/css/ie8.css" />
    <![endif]-->

    <!-- jQuery | Load our jQuery, with an alternative source fallback to a local version if request is unavailable -->
    <script src="/js/jquery-1.11.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.11.1.min.js"><\/script>')</script>

    <!-- Load these in the <head> for quicker IE8+ load times -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="/js/html5shiv.min.js"></script>
    <script src="/js/respond.min.js"></script>
    <![endif]-->

  
  
  

  <style>.col-md-8.col-md-offset-2.opening-statement img{display:none;}</style>
</head>

<!--
<body class="post-template">
-->
<body id="index" class="lightnav animsition">

      <!-- ============================ Off-canvas navigation =========================== -->

    <div class="sb-slidebar sb-right sb-style-overlay sb-momentum-scrolling">
        <div class="sb-close" aria-label="Close Menu" aria-hidden="true">
            <img src="/img/close.png" alt="Close"/>
        </div>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu">
            <li><a href="/" class="animsition-link" title="Home">Home</a></li>
            <li><a href="/archives" class="animsition-link" title="archive">archives</a></li>
            <!-- Dropdown Menu -->
			 
            <li>
                <a class="sb-toggle-submenu">Works<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                        <li><a href="/" target="_BLANK" class="animsition-link">AAA</a></li>
                    
                        <li><a href="/atom.xml" target="_BLANK" class="animsition-link">BBB</a></li>
                    
                </ul>
            </li>
            
            
            
            <li>
                <a class="sb-toggle-submenu">Links<span class="sb-caret"></span></a>
                <ul class="sb-submenu">
                    
                    <li><a href="" class="animsition-link">QianleHe</a></li>
                    
                    <li><a href="http://domain.com/" class="animsition-link">Name</a></li>
                    
                </ul>
            </li>
            
        </ul>
        <!-- Lists in Slidebars -->
        <ul class="sb-menu secondary">
            <li><a href="/about.html" class="animsition-link" title="about">About</a></li>
            <li><a href="/atom.xml" class="animsition-link" title="rss">RSS</a></li>
        </ul>
    </div>
    
    <!-- ============================ END Off-canvas navigation =========================== -->

    <!-- ============================ #sb-site Main Page Wrapper =========================== -->

    <div id="sb-site">
        <!-- #sb-site - All page content should be contained within this id, except the off-canvas navigation itself -->

        <!-- ============================ Header & Logo bar =========================== -->

        <div id="navigation" class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <!-- Nav logo -->
                    <div class="logo">
                        <a href="/" title="Logo" class="animsition-link">
                         <img src="/img/cat.png" alt="Logo" width="35px;"/> 
                        </a>
                    </div>
                    <!-- // Nav logo -->
                    <!-- Info-bar -->
                    <nav>
                        <ul class="nav">
                            <li><a href="/" class="animsition-link">QianleHe</a></li>
                            <li class="nolink">A Software Engineer.</li>
                            <li class="nolink"><span>Keep </span>LEARNING.</li>
                            
                            <li><a href="https://github.com/QianleHe" title="Github" target="_blank"><i class="icon-github"></i></a></li>
                            
                            
                            <!-- <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a></li> -->
                            
                            
                            <!-- <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a></li> -->
                            
                            
                            <!-- <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a></li> -->
                            
                            
                            <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a></li>
                            
                            <li><a href="mailto:qhe7@ur.rochester.edu?subject=Hello%20Qianle" target="_blank" title="mail" target="_blank"><img src="/img/mail.png"></a></li>
                            <li class="nolink"><span>Welcome!</span></li>
                        </ul>
                    </nav>
                    <!--// Info-bar -->
                </div>
                <!-- // .container -->
                <div class="learnmore sb-toggle-right">More</div>
                <button type="button" class="navbar-toggle menu-icon sb-toggle-right" title="More">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar before"></span>
                <span class="icon-bar main"></span>
                <span class="icon-bar after"></span>
                </button>
            </div>
            <!-- // .navbar-inner -->
        </div>

        <!-- ============================ Header & Logo bar =========================== -->


      
<section id="intro">
    <div class="container">
        <div class="row col-md-offset-2">
            <div class="col-md-8">
    			<span class="post-meta">
      <time datetime="2017-02-22T04:40:55.000Z" itemprop="datePublished">
          2017-02-21
      </time>
    
    
    | 
    <a href='/tags/Graph-DFS-BFS/'>Graph, DFS, BFS</a>
    
    
</span>
                <h1>Course Schedule I,II</h1>
            </div>
        </div>
        <div class="col-md-8 col-md-offset-2">
      		<h2 id="210-Course-Schedule-II"><a href="#210-Course-Schedule-II" class="headerlink" title="210. Course Schedule II"></a>210. Course Schedule II</h2><p>There are a total of n courses you have to take, labeled from 0 to n - 1.</p>
<p>Some courses may have prerequisites, for example to take course 0 you have to first take course 1, which is expressed as a pair: [0,1]</p>
<p>Given the total number of courses and a list of prerequisite pairs, return the ordering of courses you should take to finish all courses.</p>
<p>There may be multiple correct orders, you just need to return one of them. If it is impossible to finish all courses, return an empty array.</p>
<p>For example:</p>
<pre><code>2, [[1,0]]
</code></pre><p>There are a total of 2 courses to take. To take course 1 you should have finished course 0. So the correct course order is [0,1]</p>
<pre><code>4, [[1,0],[2,0],[3,1],[3,2]]
</code></pre><p>There are a total of 4 courses to take. To take course 3 you should have finished both courses 1 and 2. Both courses 1 and 2 should be taken after you finished course 0. So one correct course order is [0,1,2,3]. Another correct ordering is[0,2,1,3].</p>
<p>For my idea:</p>
<p><strong>这是leetcode里面稍有的关于directed Graph 的题目，面试的频率也蛮高的，这个题目比较好的方法是DFS和BFS两种， 实际代码跑下来BFS的速度会比DFS快很多</strong></p>
<p><strong>For BFS</strong></p>
<ol>
<li>对于BFS，使用的方法是创建一个array来储存，在prerequisite里面出现的有提前选修要求的课出现的频率。</li>
<li>创建一个queue来储存没有要求直接可以修的课程，用一个for循环把现有的没有要求的课程直接存进queue中。</li>
<li>设置一个while循环满足queue不为空，设一个count来记录queue取出的次数。每一次取出的课程来对比预修的课程，有一次的话，次数递减，当为0的时候，可以说明这门功课可以被成功选修，加入queue中</li>
<li><p>循环结束之后来比较count数是否等于课程数，若相等的话，即true</p>
<pre><code>public class Solution {
public int[] findOrder(int numCourses, int[][] prerequisites) {
    // i think it is similar with course schedule I
    // bfs
    int[] order = new int[numCourses];
    int[] indegree = new int[numCourses];
    for (int[] pre: prerequisites) {
        indegree[pre[0]]++;
    }
    Queue&lt;Integer&gt; queue = new LinkedList();
    int arrnum = 0;
    for (int i = 0; i &lt; numCourses; i++) {
        if (indegree[i] == 0) {
            queue.offer(i);
            order[arrnum] = i;
            arrnum++;
        }
    }
    int count = 0;
    while (!queue.isEmpty()) {
        int temp = queue.poll();
        count++;
        for (int[] pre : prerequisites) {
            if (pre[1] == temp) {
                //System.out.println(indegree[pre[0]]);
                indegree[pre[0]]--;
                if (indegree[pre[0]] == 0) {
                    queue.offer(pre[0]);
                    order[arrnum] = pre[0];
                    arrnum++;
                    if (arrnum &gt; numCourses) return new int[]{};
                }
            }
        }
    }
    return count == numCourses? order:(new int[]{});
    }
}
</code></pre></li>
</ol>
<p><strong>For DFS</strong></p>
<ol>
<li>The idea of DFS is create a list which store the pre-courses with a list of course which can be taken with this pre-course.</li>
<li>when the first course in the recursion, there are two state which are inloop and visited in it. when a number go into recursion and find this num’s state is inloop. It means that this number jump in a loop which is cannot jump out of it.</li>
<li>At the same time, when it return to a true value, this course number will be marked as visited which means this course can be taken successfully. So when in future recursion, when you jump to this course number as a pre-course, it can be returned true directed.</li>
<li>DFS 的关键是，循环到的课程能利用recursion来return到是否可以被选修。 在recursion的过程中，利用stack来记录下选修课的顺序</li>
</ol>
<pre><code>public class Solution {
public int[] findOrder(int numCourses, int[][] prerequisites) {
    // DFS solution
    List&lt;List&lt;Integer&gt;&gt; adj = new ArrayList&lt;List&lt;Integer&gt;&gt;(numCourses);
    for (int i = 0; i &lt; numCourses; i++) {
        adj.add(i, new ArrayList&lt;Integer&gt;());
    }
    for(int[] pre: prerequisites) {
        adj.get(pre[1]).add(pre[0]);
    }
    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();
    boolean[] visited = new boolean[numCourses];
    boolean[] isloop = new boolean[numCourses];
    for (int i = 0; i &lt; numCourses; i++) {
        //System.out.println(helper(adj, visited, isloop, stack, i));
        if (!helper(adj, visited, isloop, stack, i))
        {
            return new int[]{}; // make sure the
        }
    }
    int[] res = new int[numCourses]; // create result array
    int i = 0;
    while (!stack.isEmpty()) {
        res[i++] = stack.pop();
    }
    return res;
    }
private boolean helper(List&lt;List&lt;Integer&gt;&gt; adj, boolean[] visited, boolean[] isloop, Stack&lt;Integer&gt; stack, int Cnum) {
    if (visited[Cnum]) return true;
    if (isloop[Cnum]) return false;
    isloop[Cnum] = true;
    for (int t : adj.get(Cnum)) {
        if (!helper(adj, visited, isloop, stack, t)) return false;
    }
    visited[Cnum] = true;
    stack.push(Cnum);
    return true;
    }
}
</code></pre>
            <div class="clearfix"></div>
            <hr class="nogutter">
        </div>
        <nav class="pagination" role="pagination">
    
    
    <a class="pull-right" href="/2017/02/17/130-Surrounded-Regions/">
        130.Surrounded Regions →
    </a>
    
</nav>

        <div class="duoshuo">


</div>
    </div>
</section>


      
<!-- ============================ Footer =========================== -->

<footer>
    <div class="container">
            <div class="copy">
                <p>
                    &copy; 2014<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, Content By Qianle He. All Rights Reserved.
                </p>
                 <!-- <p>Theme By <a href="//go.kieran.top" style="color: #767D84">Kieran</a></p> -->
            </div>
            <div class="social">
                <ul>
                    
                    <li><a href="https://github.com/QianleHe" title="Github" target="_blank"><i class="icon-github"></i></a>&nbsp;</li>
                    
                    <!-- 
                    <li><a href="https://twitter.com/" title="Twitter" target="_blank"><i class="icon-twitter"></i></a>&nbsp;</li>
                     -->
                    <!-- 
                    <li><a href="https://www.facebook.com/" title="Facebook" target="_blank"><i class="icon-facebook"></i></a>&nbsp;</li>
                     -->
                    <!-- 
                    <li><a href="https://google.com/" title="Google-Plus" target="_blank"><i class="icon-google-plus"></i></a>&nbsp;</li>
                     -->
                    
                    <li><a href="http://weibo.com/" title="Sina-Weibo" target="_blank"><i class="icon-sina-weibo"></i></a>&nbsp;</li>
                    
                </ul>
            </div>
            <div class="clearfix"> </div>
        </div>
</footer>

<!-- ============================ END Footer =========================== -->

      <!-- Load our scripts -->
<!-- Resizable 'on-demand' full-height hero -->
<script type="text/javascript">
    var resizeHero = function () {
        var hero = $(".cover,.heightblock"),
            window1 = $(window);
        hero.css({
            "height": window1.height()
        });
    };

    resizeHero();

    $(window).resize(function () {
        resizeHero();
    });
</script>
<script src="/js/plugins.min.js"></script><!-- Bootstrap core and concatenated plugins always load here -->
<script src="/js/jquery.flexslider-min.js"></script><!-- Flexslider plugin -->
<script src="/js/scripts.js"></script><!-- Theme scripts -->


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$('#intro').find('img').each(function(){
  var alt = this.alt;

  if (alt){
    $(this).after('<span class="caption" style="display:none">' + alt + '</span>');
  }

  $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="gallery" />');
});
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

<!-- Initiate flexslider plugin -->
<script type="text/javascript">
    $(document).ready(function($) {
      (function(){
        console.log('font');
        var getCss = function(path) {
          var head = document.getElementsByTagName('head')[0];
          link = document.createElement('link');
          link.href = path;
          link.rel = 'stylesheet';
          link.type = 'text/css';
          head.appendChild(link);
        };
        getCss('https://fonts.googleapis.com/css?family=Montserrat:400,700');
        getCss('https://fonts.googleapis.com/css?family=Open+Sans:400,600');
      })();
      $('.flexslider').flexslider({
        animation: "fade",
        prevText: "",
        nextText: "",
        directionNav: true
      });
    });
</script>

</body>
</html>
